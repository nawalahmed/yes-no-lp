module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},39752,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131);function e(){let a=(0,c.useRouter)(),e=(0,c.useParams)(),f=(0,d.useMemo)(()=>{let a=e?.id;return a?Array.isArray(a)?a[0]:a:""},[e]),[g,h]=(0,d.useState)(""),[i,j]=(0,d.useState)(null),[k,l]=(0,d.useState)(!1),[m,n]=(0,d.useState)("no"),[o,p]=(0,d.useState)(!1);(0,d.useRef)(!1);let q=(0,d.useRef)(null),r=(0,d.useRef)(null),s=(0,d.useRef)(null),t=(0,d.useRef)(null);(0,d.useRef)({x:0,y:0,has:!1}),(0,d.useRef)({x:0,y:0});let u=(0,d.useMemo)(()=>"yes"===m?q:s,[m]),v=(0,d.useMemo)(()=>"yes"===m?r:t,[m]);async function w(b){if(f)try{l(!0);let c=new URLSearchParams;c.set("id",f),c.set("answer",b);let d=await fetch("/api/answer",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:c.toString(),cache:"no-store"});if(!d.ok){let a=await d.text().catch(()=>"")||"Could not submit. Try again.";l(!1),alert(a);return}a.push(`/r/${f}`)}catch{l(!1),alert("Could not submit. Try again.")}}(0,d.useEffect)(()=>{if(!f)return;let a=new AbortController;return j(null),(async()=>{try{let b=await fetch(`/api/page?id=${encodeURIComponent(f)}`,{cache:"no-store",signal:a.signal});if(!b.ok){j("Could not load the question."),h(""),n("no");return}let c=await b.json(),d=String(c.question??"").trim();j(d.length?d:" "),h(String(c.name??"").trim()),n("yes"===c.dodgeButton?"yes":"no")}catch(a){if(a?.name==="AbortError")return;j("Could not load the question."),h(""),n("no")}})(),()=>a.abort()},[f]),(0,d.useEffect)(()=>{},[u]),(0,d.useEffect)(()=>{},[o,v]);let x=(0,d.useMemo)(()=>{let a=null===i?"Loading...":i||" ",b=g?`${g}, `:"";return`${b}${a}`},[g,i]),y="yes"===m,z="no"===m;return(0,b.jsx)("main",{className:"page",children:(0,b.jsxs)("section",{className:"hero heroCenter",children:[(0,b.jsx)("div",{className:"topMedia","aria-hidden":"true",children:(0,b.jsx)("img",{src:"/images/hero-invite.png",alt:"",className:"heroImage",loading:"eager"})}),(0,b.jsx)("h1",{className:"questionTitle",children:x}),(0,b.jsxs)("div",{className:"buttonRow",children:[(0,b.jsx)("button",{ref:q,className:`btnChoice btnChoiceWide ${o&&y?"noPlaceholderHidden":""}`,type:"button",onClick:()=>w("yes"),disabled:k||!f||o&&y,"aria-disabled":k||!f||o&&y,title:o&&y?"Nice try ðŸ˜„":"",children:k?"Sending...":"Yes"}),(0,b.jsx)("button",{ref:s,className:`btnChoice btnChoiceWide ${o&&z?"noPlaceholderHidden":""}`,type:"button",onClick:()=>w("no"),disabled:k||!f||o&&z,"aria-disabled":k||!f||o&&z,title:o&&z?"Nice try ðŸ˜„":"",children:"No"})]}),(0,b.jsx)("p",{className:"tinyFooter",children:"no"===m?"P.S. The No button is on a personal growth journey. Itâ€™s not ready yet.":"P.S. The Yes button is shy today. Youâ€™ll have to work for it."}),o&&y?(0,b.jsx)("button",{ref:r,className:"btnChoice btnNoFloating",type:"button",disabled:!0,"aria-disabled":"true",title:"Nice try ðŸ˜„",style:{position:"fixed",left:0,top:0,transform:"translate(0px, 0px)",touchAction:"none"},children:"Yes"}):null,o&&z?(0,b.jsx)("button",{ref:t,className:"btnChoice btnNoFloating",type:"button",disabled:!0,"aria-disabled":"true",title:"Nice try ðŸ˜„",style:{position:"fixed",left:0,top:0,transform:"translate(0px, 0px)",touchAction:"none"},children:"No"}):null]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__bbc0b3c7._.js.map