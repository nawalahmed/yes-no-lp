module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},10370,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)(""),[e,f]=(0,c.useState)("Will you be my valentine?"),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)("no");async function o(){if(g)return;l(null),j(null);let b=a.trim().slice(0,80),c=e.trim().slice(0,200);if(!b||!c)return void l("Please fill in all fields.");h(!0);try{let a=await fetch("/api/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",cache:"no-store",body:JSON.stringify({recipientName:b,question:c,dodgeButton:m})});if(!a.ok){let b=await a.text();if(401===a.status||403===a.status)throw Error("Please subscribe first, then try again.");throw Error(b||"Failed to create link.")}let d=await a.json(),e=`${window.location.origin}/p/${d.id}`;j(e)}catch(a){l(a?.message||"Something went wrong.")}finally{h(!1)}}return(0,b.jsx)("main",{className:"page",children:(0,b.jsxs)("section",{className:"hero",children:[(0,b.jsx)("h1",{className:"title",children:"Create a link"}),(0,b.jsx)("p",{className:"subtitle",children:"Personalize it. Share it."}),(0,b.jsx)("div",{className:"cardWrap",children:(0,b.jsxs)("div",{className:"card minimal",children:[(0,b.jsxs)("div",{className:"stack",children:[(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{className:"label light",children:"Recipient name"}),(0,b.jsx)("input",{type:"text",className:"inputGhost",placeholder:"Enter their name",value:a,onChange:a=>d(a.target.value),autoComplete:"off",maxLength:80})]}),(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{className:"label light",children:"Question"}),(0,b.jsx)("textarea",{rows:2,className:"inputGhost textareaGhost",value:e,onChange:a=>f(a.target.value),maxLength:200})]}),(0,b.jsxs)("div",{className:"field",children:[(0,b.jsx)("label",{className:"label light",children:"Recipient will struggle to click?"}),(0,b.jsxs)("label",{className:"radioRow",children:[(0,b.jsx)("input",{type:"radio",name:"dodge",checked:"no"===m,onChange:()=>n("no")}),(0,b.jsx)("span",{className:"radioText",children:"No"})]}),(0,b.jsxs)("label",{className:"radioRow",children:[(0,b.jsx)("input",{type:"radio",name:"dodge",checked:"yes"===m,onChange:()=>n("yes")}),(0,b.jsx)("span",{className:"radioText",children:"Yes"})]})]})]}),(0,b.jsx)("button",{className:"btnPrimary full",type:"button",onClick:o,disabled:g,children:g?"Creating...":"Create link"}),k?(0,b.jsx)("div",{className:"errorText",children:k}):null,i?(0,b.jsxs)("div",{className:"successBox",children:[(0,b.jsx)("div",{className:"successTitle",children:"Your link is ready"}),(0,b.jsx)("a",{className:"successLinkAnchor",href:i,target:"_blank",rel:"noopener noreferrer",children:i}),(0,b.jsxs)("div",{className:"successRow",children:[(0,b.jsx)("button",{className:"btnGhost",type:"button",onClick:()=>navigator.clipboard.writeText(i),children:"Copy link"}),(0,b.jsx)("a",{className:"btnPrimary",href:i,target:"_blank",rel:"noopener noreferrer",children:"Open link"})]})]}):null,(0,b.jsx)("div",{className:"finePrint",children:(0,b.jsx)("a",{className:"footerLink",href:"/",children:"Back to home"})})]})})]})})}a.s(["default",()=>d])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f68f9e76._.js.map